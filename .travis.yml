dist: xenial
language: bash
services:
    - docker
before_install:
  - echo $TRAVIS_BUILD_DIR
  - docker -v
  - docker run --rm hello-world
before_script:
  - docker build -t node:app .
  - docker-compose run --rm -w /home/dev node -c "ls -la"
  - docker-compose run --rm node -c "ls -la"
  - docker-compose up -d database
  - ./support/wait-for-database.sh
script:  
  - docker-compose run --rm node -c "npm install"
  - docker-compose run --rm node -c "npm test"
  
